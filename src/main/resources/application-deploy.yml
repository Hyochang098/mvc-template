spring:
  datasource:
    driver-class-name: ${DB_DRIVER:org.mariadb.jdbc.Driver}
    url: ${DB_URL:}
    username: ${DB_USERNAME:}
    password: ${DB_PASSWORD:}
  jpa:
    hibernate:
      ddl-auto: ${JPA_DDL_AUTO:none}    # dev에서는 update 등으로 ENV로 오버라이드
    show-sql: ${JPA_SHOW_SQL:false}
    properties:
      hibernate:
        format_sql: ${JPA_FORMAT_SQL:true}
    open-in-view: false
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}

logging:
  level:
    root: info
    org.springframework: info

management:
  endpoints:
    web:
      exposure:
        include: "health,info"

security:
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:https://example.com}
    allowed-methods: GET,POST,PUT,DELETE,OPTIONS
    allowed-headers: "*"
    allow-credentials: true
  cookie:
    secure: true
    same-site: Lax
    access-max-age-seconds: ${COOKIE_ACCESS_MAX_AGE_SECONDS:1800}
    refresh-max-age-seconds: ${COOKIE_REFRESH_MAX_AGE_SECONDS:604800}
    domain: ${COOKIE_DOMAIN:}
  jwt:
    check-db: true

jwt:
  secret: ${JWT_SECRET}
  access-token-validity-in-seconds: ${JWT_ACCESS_TTL:1800}
  refresh-token-validity-in-seconds: ${JWT_REFRESH_TTL:604800}

cache:
  refresh-token:
    ttl-seconds: ${CACHE_REFRESH_TOKEN_TTL_SECONDS:900}
  access-token-blacklist:
    ttl-seconds: ${CACHE_ACCESS_TOKEN_BLACKLIST_TTL_SECONDS:1800}
